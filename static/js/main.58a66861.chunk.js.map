{"version":3,"sources":["Redux/dialogs-reducer.js","components/Navbar/Navbar.module.css","assets/images/loading.svg","api/api.js","components/Navbar/NavberMain/NavbarMain.module.css","components/Navbar/NavberMain/NavbarMain.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Setting/Setting.jsx","utils/object-helpers.js","Redux/users-reducer.js","common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","Redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","Redux/app-reducer.js","App.js","hoc/withSuspense.js","Redux/redux-store.js","index.js","common/FormControls/FormControls.module.css","common/Preloader/Preloader.js","common/FormControls/FormControls.js","common/Pagination/Pagination.module.css","Redux/profile-reducer.js","utils/validators/validators.js","components/Users/users.module.css","components/Navbar/NavberFriends/NavbarFriends.module.css","components/Header/Header.module.css"],"names":["initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","axiosInstance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","NavbarMain","className","s","item","to","activeClassName","activeLink","Navbar","props","nav","News","Music","Setting","updateObjectToArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","setToggleIsFetching","setFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","filter","Pagination","onPageCurrent","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","styles","paginator","onClick","p","selectedPage","pageNumber","key","e","User","user","src","photos","small","stale","userPhoto","disabled","some","Users","getUsersSuper","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","Preloader","React","Component","compose","connect","bind","page","Header","header","loginBlock","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","validate","required","component","Input","formControlSummaryError","meggage","length","stopSubmit","_error","formData","initialize","appReducer","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","Suspense","fallback","withRouter","app","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReduser","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","document","getElementById","preloader","alt","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","posts","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUsersProfile","newPost","idPost","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.58a66861.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"Ky\"},\r\n        {id: 3, message: \"Hello\"},\r\n        {id: 4, message: \"HIy\"},\r\n        {id: 5, message: \"F\"},\r\n    ],\r\n    dialogs: [\r\n        {id: 1, name: 'Slavik'},\r\n        {id: 2, name: 'Slavik2'},\r\n        {id: 3, name: 'Slavik3'},\r\n        {id: 4, name: 'Slavik4'},\r\n        {id: 5, name: 'Slavik5'},\r\n        {id: 6, name: 'Slavik6'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return  {\r\n                ...state,\r\n                messages: [...state.messages, {\r\n                    id: 6,\r\n                    message: body\r\n                }],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody} );\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Cdnzy\"};","module.exports = __webpack_public_path__ + \"static/media/loading.2aea4710.svg\";","import axios from \"axios\";\r\n\r\nconst axiosInstance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers:\r\n        {\r\n            \"API-KEY\": \"7840afa9-8478-4252-b2c4-ec337c095045\"\r\n        }\r\n})\r\n\r\nexport const usersAPI =\r\n{\r\n    getUsers(currentPage, pageSize){\r\n        return axiosInstance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    follow(userId){\r\n        return axiosInstance.post(`follow/` + userId);\r\n    },\r\n    unfollow(userId){\r\n        return axiosInstance.delete(`follow/` + userId);\r\n    },\r\n    getProfile(userId){\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI =\r\n{\r\n    getProfile(userId){\r\n        return axiosInstance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId){\r\n        return axiosInstance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status){\r\n        return axiosInstance.put(`profile/status/`, {\r\n            status: status\r\n        });\r\n    }\r\n}\r\n\r\nexport const authAPI =\r\n{\r\n    me(){\r\n        return axiosInstance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return axiosInstance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout(){\r\n        return axiosInstance.delete(`auth/login`);\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavbarMain_item__5GkNb\",\"activeLink\":\"NavbarMain_activeLink__1yoYE\"};","import React from 'react';\r\nimport s from './NavbarMain.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst NavbarMain = () => {\r\n    return (\r\n        <div >\r\n            <div className={s.item}>\r\n                <NavLink to = '/profile' activeClassName = {s.activeLink} >Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to = '/dialogs' activeClassName = {s.activeLink}>Messeges</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to = '/users' activeClassName = {s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to = '/news' activeClassName = {s.activeLink} >News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to = '/music' activeClassName = {s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to = '/setting' activeClassName = {s.activeLink} >Settings</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavbarMain;","import React from 'react';\r\nimport NavbarMain from \"./NavberMain/NavbarMain\";\r\nimport s from \"./Navbar.module.css\";\r\nimport NavbarFriends from \"./NavberFriends/NavbarFriends\";\r\n\r\n\r\nconst Navbar = (props) => {\r\n\r\n    return (\r\n       <nav className={s.nav}>\r\n            <NavbarMain/>\r\n           {/*<NavbarFriends friends={props.stage}/>*/}\r\n       </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div >\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default News;","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div >\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Setting.module.css';\r\n\r\n\r\nconst Setting = (props) => {\r\n    return (\r\n        <div >\r\n            Setting\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Setting;","\r\n\r\nexport const updateObjectToArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    });\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectToArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectToArray(state.users, action.userId, \"id\", {followed: true})\r\n\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectToArray(state.users, action.userId, \"id\", {followed: false})\r\n\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id != action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS_COUNT, totalCount});\r\nexport const setToggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const setFollowingInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setToggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        const data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(setToggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n        dispatch(setFollowingInProgress(true, userId));\r\n        const response = await apiMethod(userId);\r\n        if (response.data.resultCode == 0) {\r\n            dispatch(actionCreator(userId));\r\n        }\r\n        dispatch(setFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId, usersAPI.follow.bind(userId), followSuccess)\r\n    }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.unfollow.bind(userId);\r\n        const actionCreator = unfollowSuccess;\r\n        followUnfollowFlow(dispatch,userId, apiMethod, actionCreator)\r\n    }\r\n};\r\n\r\nexport default usersReducer;","import React, {useState} from \"react\";\r\nimport styles from './Pagination.module.css'\r\nimport cn from 'classnames';\r\n\r\n\r\nlet Pagination = ({totalUsersCount, pageSize, currentPage, onPageCurrent, portionSize = 25}) => {\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={cn(styles.paginator)}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageCurrent(p);\r\n                             }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>}\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport stale from \"./users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Pagination from \"../../common/Pagination/Pagination\";\r\n\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return <div>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                            <img\r\n                                src={user.photos.small != null ? user.photos.small :\r\n                                    'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSQjB2JCZDGsuXMXCVMSj6JYtFjDlPkpPEGekYlmcXUVHDw9g-7&usqp=CAU'}\r\n                                className={stale.userPhoto}/>\r\n                                </NavLink>\r\n                        </div>\r\n                        <div>{user.id}\r\n                            {user.followed ?\r\n                                <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                        onClick={() => {unfollow(user.id);}}>unfollow</button> :\r\n                                <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                        onClick={() => {follow(user.id)}}>follow</button>}\r\n                        </div>\r\n                    </span>\r\n                <span>\r\n                        <span>\r\n                            <div>{user.name}</div>\r\n                            <div>{user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"user.location.city\"}</div>\r\n                            <div>{\"user.location.country\"}</div>\r\n                        </span>\r\n                </span>\r\n            </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport stale from \"./users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Pagination from \"../../common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({currentPage, onPageCurrent, totalUsersCount, pageSize, users, ...props}) => {\r\n    return <div>\r\n        <Pagination\r\n            currentPage = {currentPage}   onPageCurrent = {onPageCurrent}\r\n            totalUsersCount = {totalUsersCount}   pageSize = {pageSize}\r\n        />\r\n        <div>\r\n        {\r\n            users.map(user => <User key={user.id}\r\n                                    user={user}\r\n                                    followingInProgress = {props.followingInProgress}\r\n                                    unfollow = {props.unfollow}\r\n                                    follow = {props.follow}\r\n                            />\r\n                    )\r\n        }\r\n        </div>\r\n    </div>\r\n\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsers = (state)=> {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSuper = createSelector(getUsers, (users) => {\r\n    return users.filter( u=>true );\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    setFollowingInProgress,\r\n    unfollow\r\n} from \"../../Redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsersSuper\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component{\r\n    componentDidMount() {\r\n        const {currentPage, pageSize, requestUsers} = this.props;\r\n        requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageCurrent = (pageNumber) => {\r\n        const {pageSize, requestUsers} = this.props;\r\n        requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        const {isFetching, totalUsersCount, pageSize, currentPage, users, follow, unfollow, followingInProgress} = this.props;\r\n        return <>\r\n            {isFetching ? <Preloader /> : null}\r\n            <Users\r\n                totalUsersCount = {totalUsersCount}\r\n                pageSize = {pageSize}\r\n                currentPage = {currentPage}\r\n                users = {users}\r\n                follow = {follow}\r\n                unfollow = {unfollow}\r\n                onPageCurrent = {this.onPageCurrent}\r\n                followingInProgress = {followingInProgress}\r\n        />\r\n        </>\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersSuper(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n    follow, unfollow, setCurrentPage,\r\n    setFollowingInProgress, requestUsers}))(UsersContainer)","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png' />\r\n\r\n        <div className={s.loginBlock}>\r\n            { props.isAuth ?\r\n            <div> {props.login} <button onClick={props.logout}>Log out</button> </div>  :\r\n            <NavLink to = '/login'>Login</NavLink> }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\"\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET-AUTH-USER-DATA';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case SET_AUTH_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_AUTH_USER_DATA, payload:{\r\n        userId, email, login, isAuth\r\n    }} );\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n        if(response.data.resultCode === 0){\r\n            let { id, email, login } = response.data.data;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        };\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe);\r\n        if(response.data.resultCode === 0){\r\n           dispatch(getAuthUserData())\r\n        } else {\r\n            let meggage = response.data.messages.length > 0 ?\r\n                response.data.messages[0] : \"Some error\"\r\n            dispatch(stopSubmit(\"login\", {_error: meggage}));\r\n        };\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n        if(response.data.resultCode === 0){\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        };\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header { ...this.props } />\r\n    }\r\n}\r\n\r\nlet mapStatePropsType = (state) => ({\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStatePropsType,{logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../../common/FormControls/FormControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport stale from \"./../../common/FormControls/FormControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field placeholder={\"Email\"} name = {\"email\"}\r\n                       validate={[required]}\r\n                       component = {Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={\"password\"} name = {\"password\"}  validate={[required]} component = {Input}\r\n                       type ={\"password\"}/>\r\n            </div>\r\n            <div>\r\n                <Field  component = {Input} type={\"checkbox\"} name = {\"remebrerMe\"}/> remebrer me\r\n            </div>\r\n            {error && <div className={stale.formControlSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to ={\"/profile\"}/>\r\n    }\r\n    return <div>\r\n        <LoginReduxForm onSubmit = {onSubmit} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n        isAuth: state.auth.isAuth,\r\n\r\n    })\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\"\r\nimport {getUsersProfile} from \"./profile-reducer\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZE_SUCCESS = 'INITIALIZE_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialize: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case INITIALIZE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialize: true\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({ type: INITIALIZE_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    promise.then(() => {\r\n        dispatch(initializeSuccess());\r\n    })\r\n\r\n}\r\n\r\nexport default appReducer;","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {withRouter, Route} from \"react-router-dom\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Setting from \"./components/Setting/Setting\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from 'redux';\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport Preloader from \"./common/Preloader/Preloader\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n    render() {\r\n        if(!this.props.initialize){\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)\r\n                    }/>\r\n                    <Route path=\"/profile/:userId?\" render={() => {\r\n                        return <React.Suspense fallback={<div>Завантаження...</div>}>\r\n                                <ProfileContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n                    <Route path=\"/news\" render={() => <News/>}/>\r\n                    <Route path=\"/music\" render={() => <Music/>}/>\r\n                    <Route path=\"/setting\" render={() => <Setting/>}/>\r\n                    <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n                    <Route path=\"/login\" render={() => <Login/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialize: state.app.initialize\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n","import React from 'react';\r\n\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div>Завантаження...</div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport {applyMiddleware, combineReducers, createStore, compose} from \"redux\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReduser } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers(\r\n    {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: formReduser,\r\n            app: appReducer\r\n    }\r\n)\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from \"./Redux/redux-store\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\n    ReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>,\n        document.getElementById('root'));\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1KZkw\",\"error\":\"FormControls_error__1xEFo\",\"formControlSummaryError\":\"FormControls_formControlSummaryError__aocB4\"};","import preloader from \"../../assets/images/loading.svg\";\r\nimport React from \"react\";\r\n\r\nlet Preloader = () => {\r\n    return  <div>\r\n            <img src={preloader} alt=\"\"/>\r\n        </div>\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport styles from './FormControls.module.css'\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return <div className={styles.formControl + ' ' + (hasError ? styles.error : \"\")}>\r\n        <div>\r\n            {children}\r\n        </div>\r\n        <div>\r\n            {hasError && <span>\r\n                {error}\r\n            </span>}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n  return <FormControl {...props}> <input {...input} {...restProps}/></FormControl>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__2j9A0\",\"pageNumber\":\"Pagination_pageNumber__3CaAf\",\"selectedPage\":\"Pagination_selectedPage__3h1Tj\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USERS_PROFILE = 'SET-USERS-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 11},\r\n        {id: 2, message: 'Second', likesCount: 111},\r\n        {id: 2, message: 'Third', likesCount: 1231}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return  {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_STATUS : {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n        case SET_USERS_PROFILE : {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        }\r\n        case DELETE_POST : {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id !== action.idPost)\r\n            };\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText} );\r\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (idPost) => ({type: DELETE_POST, idPost});\r\n\r\n//thunk\r\nexport const getUsersProfile = (userId) => async (dispatch) => {\r\n    const response = await usersAPI.getProfile(userId);\r\n        dispatch(setUsersProfile(response.data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n        dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n        if(response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        };\r\n};\r\n\r\nexport default profileReducer;","\r\nexport const required = value => {\r\n    if(value){\r\n        return undefined\r\n    }else {\r\n        return \"Field is required\"\r\n    }\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength){\r\n        return \"Max length \" + maxLength + \" symbols\";\r\n    }else {\r\n        return undefined;\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2RPWK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavbarFriends_item__2LLBv\",\"activeLink\":\"NavbarFriends_activeLink__3YS1e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1BvWz\",\"loginBlock\":\"Header_loginBlock__3J5g2\"};"],"sourceRoot":""}